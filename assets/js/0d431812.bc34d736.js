"use strict";(self.webpackChunkwebsite=self.webpackChunkwebsite||[]).push([[1946],{3905:function(e,t,r){r.d(t,{Zo:function(){return u},kt:function(){return d}});var n=r(7294);function o(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function c(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function a(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?c(Object(r),!0).forEach((function(t){o(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):c(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function s(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},c=Object.keys(e);for(n=0;n<c.length;n++)r=c[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(n=0;n<c.length;n++)r=c[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}var i=n.createContext({}),l=function(e){var t=n.useContext(i),r=t;return e&&(r="function"==typeof e?e(t):a(a({},t),e)),r},u=function(e){var t=l(e.components);return n.createElement(i.Provider,{value:t},e.children)},p={inlineCode:"code",wrapper:function(e){var t=e.children;return n.createElement(n.Fragment,{},t)}},h=n.forwardRef((function(e,t){var r=e.components,o=e.mdxType,c=e.originalType,i=e.parentName,u=s(e,["components","mdxType","originalType","parentName"]),h=l(r),d=o,m=h["".concat(i,".").concat(d)]||h[d]||p[d]||c;return r?n.createElement(m,a(a({ref:t},u),{},{components:r})):n.createElement(m,a({ref:t},u))}));function d(e,t){var r=arguments,o=t&&t.mdxType;if("string"==typeof e||o){var c=r.length,a=new Array(c);a[0]=h;var s={};for(var i in t)hasOwnProperty.call(t,i)&&(s[i]=t[i]);s.originalType=e,s.mdxType="string"==typeof e?e:o,a[1]=s;for(var l=2;l<c;l++)a[l]=r[l];return n.createElement.apply(null,a)}return n.createElement.apply(null,r)}h.displayName="MDXCreateElement"},2196:function(e,t,r){r.r(t),r.d(t,{frontMatter:function(){return s},contentTitle:function(){return i},metadata:function(){return l},toc:function(){return u},default:function(){return h}});var n=r(3117),o=r(102),c=(r(7294),r(3905)),a=["components"],s={},i=void 0,l={unversionedId:"commands/rhoas_cluster_connect",id:"commands/rhoas_cluster_connect",title:"rhoas_cluster_connect",description:"rhoas cluster connect",source:"@site/../docs/commands/rhoas_cluster_connect.md",sourceDirName:"commands",slug:"/commands/rhoas_cluster_connect",permalink:"/commands/rhoas_cluster_connect",editUrl:"https://github.com/redhat-developer/app-services-cli/../docs/commands/rhoas_cluster_connect.md",tags:[],version:"current",frontMatter:{},sidebar:"docs",previous:{title:"rhoas_cluster_clean",permalink:"/commands/rhoas_cluster_clean"},next:{title:"rhoas_cluster_status",permalink:"/commands/rhoas_cluster_status"}},u=[{value:"rhoas cluster connect",id:"rhoas-cluster-connect",children:[{value:"Synopsis",id:"synopsis",children:[],level:3},{value:"Examples",id:"examples",children:[],level:3},{value:"Options",id:"options",children:[],level:3},{value:"Options inherited from parent commands",id:"options-inherited-from-parent-commands",children:[],level:3},{value:"SEE ALSO",id:"see-also",children:[],level:3}],level:2}],p={toc:u};function h(e){var t=e.components,r=(0,o.Z)(e,a);return(0,c.kt)("wrapper",(0,n.Z)({},p,r,{components:t,mdxType:"MDXLayout"}),(0,c.kt)("h2",{id:"rhoas-cluster-connect"},"rhoas cluster connect"),(0,c.kt)("p",null,"Connect your services to Kubernetes or OpenShift"),(0,c.kt)("h3",{id:"synopsis"},"Synopsis"),(0,c.kt)("p",null,"Connect your application services to an Kubernetes or OpenShift cluster."),(0,c.kt)("p",null,"Note: Before you can connect your application service to OpenShift, you need to install the RHOAS Operator in your OpenShift cluster. For installation instructions, see ",(0,c.kt)("a",{parentName:"p",href:"https://github.com/redhat-developer/app-services-guides/tree/main/service-discovery#installing-the-rhoas-operator-on-openshift"},"https://github.com/redhat-developer/app-services-guides/tree/main/service-discovery#installing-the-rhoas-operator-on-openshift"),"."),(0,c.kt)("p",null,"When you connect an application service to a Kubernetes or OpenShift cluster, this command uses the kubeconfig file (or the KUBECONFIG environment variable) to connect to the cluster and identify the context."),(0,c.kt)("p",null,"After identifying the context, the RHOAS Operator creates a service account and mounts it as a secret in your cluster. If your cluster has a service account already, the service account is refreshed."),(0,c.kt)("p",null,"Finally, the RHOAS Operator creates a Kafka Request Object, which the Service Binding Operator (",(0,c.kt)("a",{parentName:"p",href:"https://github.com/redhat-developer/service-binding-operator"},"https://github.com/redhat-developer/service-binding-operator"),') uses to create a "ServiceBinding" object.'),(0,c.kt)("p",null,"After running this command, you need to grant access for the service account that was created by the RHOAS Operator to access your application service. For the Kafka application service, enter the following command:"),(0,c.kt)("p",null,"  $ rhoas kafka acl grant-access --producer --consumer --service-account your-sa --topic all --group all"),(0,c.kt)("p",null,"For the Service Registry application service, enter this command:"),(0,c.kt)("p",null,"  $ rhoas service-registry role add --role=Manager --service-account your-sa"),(0,c.kt)("pre",null,(0,c.kt)("code",{parentName:"pre"},"rhoas cluster connect [flags]\n")),(0,c.kt)("h3",{id:"examples"},"Examples"),(0,c.kt)("pre",null,(0,c.kt)("code",{parentName:"pre"},"# Connect a Kafka instance to your cluster\n$ rhoas cluster connect --service-type kafka --service-name kafka\n\n# Connect a Service Registry instance to your cluster\n$ rhoas cluster connect --service-type service-registry --service-name registry\n\n")),(0,c.kt)("h3",{id:"options"},"Options"),(0,c.kt)("pre",null,(0,c.kt)("code",{parentName:"pre"},"      --ignore-context        Ignore currently-selected services and ask to select each service separately\n      --kubeconfig string     Location of the kubeconfig file\n  -n, --namespace string      Use a custom Kubernetes namespace (if not set, the current namespace will be used)\n      --service-name string   Name of the application service to connect to\n      --service-type string   Type of custom resource connection\n      --token string          Provide an offline token to be used by the Operator (to get a token, visit https://console.redhat.com/openshift/token)\n                              \n  -y, --yes                   Forcibly perform operation without confirmation\n")),(0,c.kt)("h3",{id:"options-inherited-from-parent-commands"},"Options inherited from parent commands"),(0,c.kt)("pre",null,(0,c.kt)("code",{parentName:"pre"},"  -h, --help      Show help for a command\n  -v, --verbose   Enable verbose mode\n")),(0,c.kt)("h3",{id:"see-also"},"SEE ALSO"),(0,c.kt)("ul",null,(0,c.kt)("li",{parentName:"ul"},(0,c.kt)("a",{parentName:"li",href:"/commands/rhoas_cluster"},"rhoas cluster"),"\t - View and perform operations on your Kubernetes or OpenShift cluster")))}h.isMDXComponent=!0}}]);